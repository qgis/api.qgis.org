<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QGIS API Documentation: QgsConnectionPool&lt; T, T_Group &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QGIS API Documentation
   &#160;<span id="projectnumber">3.6.0-Noosa (5873452)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classQgsConnectionPool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QgsConnectionPool&lt; T, T_Group &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__core.html">core library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Template class responsible for keeping a pool of open connections.  
 <a href="classQgsConnectionPool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2991d90b8e39445c2178dc54f50facb8"><td class="memItemLeft" align="right" valign="top">typedef QMap&lt; QString, T_Group * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsConnectionPool.html#a2991d90b8e39445c2178dc54f50facb8">T_Groups</a></td></tr>
<tr class="separator:a2991d90b8e39445c2178dc54f50facb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5e547b65ef83cc470a661bbb4abd6e6d"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsConnectionPool.html#a5e547b65ef83cc470a661bbb4abd6e6d">~QgsConnectionPool</a> ()</td></tr>
<tr class="separator:a5e547b65ef83cc470a661bbb4abd6e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01cb175f45f107f4e7fa6fa7f64c3807"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsConnectionPool.html#a01cb175f45f107f4e7fa6fa7f64c3807">acquireConnection</a> (const QString &amp;connInfo, int timeout=-1, bool requestMayBeNested=false)</td></tr>
<tr class="memdesc:a01cb175f45f107f4e7fa6fa7f64c3807"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to acquire a connection for a maximum of <em>timeout</em> milliseconds.  <a href="#a01cb175f45f107f4e7fa6fa7f64c3807">More...</a><br /></td></tr>
<tr class="separator:a01cb175f45f107f4e7fa6fa7f64c3807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba5d0888019722168b95d1cde6d4fb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsConnectionPool.html#a2ba5d0888019722168b95d1cde6d4fb3">invalidateConnections</a> (const QString &amp;connInfo)</td></tr>
<tr class="memdesc:a2ba5d0888019722168b95d1cde6d4fb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidates all connections to the specified resource.  <a href="#a2ba5d0888019722168b95d1cde6d4fb3">More...</a><br /></td></tr>
<tr class="separator:a2ba5d0888019722168b95d1cde6d4fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae054f2f92160e81f3b8c9182ba75511"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsConnectionPool.html#aae054f2f92160e81f3b8c9182ba75511">releaseConnection</a> (T conn)</td></tr>
<tr class="memdesc:aae054f2f92160e81f3b8c9182ba75511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release an existing connection so it will get back into the pool and can be reused.  <a href="#aae054f2f92160e81f3b8c9182ba75511">More...</a><br /></td></tr>
<tr class="separator:aae054f2f92160e81f3b8c9182ba75511"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa2fbf9b0ef5d4c5875e7db9fd4fc74b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQgsConnectionPool.html#a2991d90b8e39445c2178dc54f50facb8">T_Groups</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsConnectionPool.html#aa2fbf9b0ef5d4c5875e7db9fd4fc74b1">mGroups</a></td></tr>
<tr class="separator:aa2fbf9b0ef5d4c5875e7db9fd4fc74b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f295bf5772bac0650e469c4c992c63"><td class="memItemLeft" align="right" valign="top">QMutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsConnectionPool.html#ac7f295bf5772bac0650e469c4c992c63">mMutex</a></td></tr>
<tr class="separator:ac7f295bf5772bac0650e469c4c992c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T, typename T_Group&gt;<br />
class QgsConnectionPool&lt; T, T_Group &gt;</h3>

<p>Template class responsible for keeping a pool of open connections. </p>
<p>This is desired to avoid the overhead of creation of new connection every time.</p>
<p>The methods are thread safe.</p>
<p>The connection pool has a limit on maximum number of concurrent connections (per server), once the limit is reached, the <a class="el" href="classQgsConnectionPool.html#a01cb175f45f107f4e7fa6fa7f64c3807" title="Try to acquire a connection for a maximum of timeout milliseconds. ">acquireConnection()</a> function will block. All connections that have been acquired must be then released with <a class="el" href="classQgsConnectionPool.html#aae054f2f92160e81f3b8c9182ba75511" title="Release an existing connection so it will get back into the pool and can be reused. ">releaseConnection()</a> function.</p>
<p>When the connections are not used for some time, they will get closed automatically to save resources. </p><dl class="section note"><dt>Note</dt><dd>not available in Python bindings </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsconnectionpool_8h_source.html#l00266">266</a> of file <a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a2991d90b8e39445c2178dc54f50facb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2991d90b8e39445c2178dc54f50facb8">&#9670;&nbsp;</a></span>T_Groups</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename T_Group &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef QMap&lt;QString, T_Group *&gt; <a class="el" href="classQgsConnectionPool.html">QgsConnectionPool</a>&lt; T, T_Group &gt;::<a class="el" href="classQgsConnectionPool.html#a2991d90b8e39445c2178dc54f50facb8">T_Groups</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qgsconnectionpool_8h_source.html#l00270">270</a> of file <a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5e547b65ef83cc470a661bbb4abd6e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e547b65ef83cc470a661bbb4abd6e6d">&#9670;&nbsp;</a></span>~QgsConnectionPool()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename T_Group &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classQgsConnectionPool.html">QgsConnectionPool</a>&lt; T, T_Group &gt;::~<a class="el" href="classQgsConnectionPool.html">QgsConnectionPool</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qgsconnectionpool_8h_source.html#l00272">272</a> of file <a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a01cb175f45f107f4e7fa6fa7f64c3807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01cb175f45f107f4e7fa6fa7f64c3807">&#9670;&nbsp;</a></span>acquireConnection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename T_Group &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T <a class="el" href="classQgsConnectionPool.html">QgsConnectionPool</a>&lt; T, T_Group &gt;::acquireConnection </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>connInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>requestMayBeNested</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to acquire a connection for a maximum of <em>timeout</em> milliseconds. </p>
<p>If <em>timeout</em> is a negative value the calling thread will be blocked until a connection becomes available. This is the default behavior.</p>
<dl class="section return"><dt>Returns</dt><dd>initialized connection or nullptr if unsuccessful </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsconnectionpool_8h_source.html#l00292">292</a> of file <a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>.</p>

</div>
</div>
<a id="a2ba5d0888019722168b95d1cde6d4fb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba5d0888019722168b95d1cde6d4fb3">&#9670;&nbsp;</a></span>invalidateConnections()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename T_Group &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classQgsConnectionPool.html">QgsConnectionPool</a>&lt; T, T_Group &gt;::invalidateConnections </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>connInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invalidates all connections to the specified resource. </p>
<p>The internal state of certain handles (for instance OGR) are altered when a dataset is modified. Consquently, all open handles need to be invalidated when such datasets are changed to ensure the handles are refreshed. See the OGR provider for an example where this is needed. </p>

<p class="definition">Definition at line <a class="el" href="qgsconnectionpool_8h_source.html#l00325">325</a> of file <a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>.</p>

</div>
</div>
<a id="aae054f2f92160e81f3b8c9182ba75511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae054f2f92160e81f3b8c9182ba75511">&#9670;&nbsp;</a></span>releaseConnection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename T_Group &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classQgsConnectionPool.html">QgsConnectionPool</a>&lt; T, T_Group &gt;::releaseConnection </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release an existing connection so it will get back into the pool and can be reused. </p>

<p class="definition">Definition at line <a class="el" href="qgsconnectionpool_8h_source.html#l00307">307</a> of file <a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa2fbf9b0ef5d4c5875e7db9fd4fc74b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2fbf9b0ef5d4c5875e7db9fd4fc74b1">&#9670;&nbsp;</a></span>mGroups</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename T_Group &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsConnectionPool.html#a2991d90b8e39445c2178dc54f50facb8">T_Groups</a> <a class="el" href="classQgsConnectionPool.html">QgsConnectionPool</a>&lt; T, T_Group &gt;::mGroups</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qgsconnectionpool_8h_source.html#l00335">335</a> of file <a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>.</p>

</div>
</div>
<a id="ac7f295bf5772bac0650e469c4c992c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f295bf5772bac0650e469c4c992c63">&#9670;&nbsp;</a></span>mMutex</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename T_Group &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMutex <a class="el" href="classQgsConnectionPool.html">QgsConnectionPool</a>&lt; T, T_Group &gt;::mMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qgsconnectionpool_8h_source.html#l00336">336</a> of file <a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/tmp/buildd/qgis-3.6.0+99unstable/src/core/<a class="el" href="qgsconnectionpool_8h_source.html">qgsconnectionpool.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Feb 23 2019 03:59:22 for QGIS API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
